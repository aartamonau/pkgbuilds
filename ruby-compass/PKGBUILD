# Maintainer: Aliaksiej Artamona≈≠ <aliaksiej.artamonau@gmail.com>

pkgname=ruby-compass
pkgver=0.10.6
pkgrel=2
pkgdesc="A Real Stylesheet Framework"
arch=("any")
url="http://compass-style.org"
license=("MIT")
groups=()
depends=("ruby" "ruby-haml>=3.0.4")
makedepends=("rubygems")
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
source=("http://gems.rubyforge.org/gems/compass-${pkgver}.gem" "LICENSE")
noextract=("compass-${pkgver}.gem")
md5sums=("f4dcb895aefd5c8d1fb69a927c315e13"
         "730b9c33b8e132caa05987d7d6972a7c")

build() {
  cd $srcdir
  local _gemdir="$(ruby -rubygems -e'puts Gem.default_dir')"
  gem install --ignore-dependencies -i "$pkgdir$_gemdir" compass-$pkgver.gem \
  -n "$pkgdir/usr/bin" || return 1

  install -d -m755 "${pkgdir}/usr/share/licenses/${pkgname}" || return 1
  install -m644 -t "${pkgdir}/usr/share/licenses/${pkgname}" LICENSE || return 1
}
